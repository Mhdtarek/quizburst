<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-3" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="meta">
      <div>flytt: <span class="moves"></span></div>
      <div>Tid: <span class="timer"></span></div>
    </div>

    <div class="game-finish"><p class="cool"></p></div>
    <div class="game game-container">
      <div class="card" data-tech="1">
        <img src="img/angular.svg" alt="Angular" class="front front1" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back1" />
      </div>
      <div class="card" data-tech="1">
        <img src="img/angular.svg" alt="Angular" class="front front2" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back2" />
      </div>
      <div class="card" data-tech="2">
        <img src="img/node.svg" alt="Mode" class="front front3" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back3" />
      </div>
      <div class="card" data-tech="2">
        <img src="img/node.svg" alt="Node" class="front front4" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back4" />
      </div>
      <div class="card" data-tech="3">
        <img src="img/php.svg" alt="PHP" class="front front5" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back5" />
      </div>
      <div class="card" data-tech="3">
        <img src="img/php.svg" alt="PHP" class="front front6" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back6" />
      </div>
      <div class="card" data-tech="4">
        <img src="img/react.svg" alt="React" class="front front7" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back7" />
      </div>
      <div class="card" data-tech="4">
        <img src="img/react.svg" alt="React" class="front front8" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back8" />
      </div>
      <div class="card" data-tech="5">
        <img src="img/vue.svg" alt="Vue" class="front front9" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back9" />
      </div>
      <div class="card" data-tech="5">
        <img src="img/vue.svg" alt="Vue" class="front front10" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back10" />
      </div>
      <div class="card" data-tech="6">
        <img src="img/wordpress.svg" alt="WordPress" class="front front11" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back11" />
      </div>
      <div class="card" data-tech="6">
        <img src="img/wordpress.svg" alt="WordPress" class="front front12" />
        <img src="/img/QUIZNICE.png" alt="Memory card" class="back back12" />
      </div>
    </div>

<script>const cards = document.querySelectorAll(".card");
  const counter = document.querySelector(".moves");
  const timer = document.querySelector(".timer");
  const gameContainer = document.querySelector(".game-container")
  const textFinish = document.querySelector(".cool")
  const metaData = document.querySelector(".meta")
  // cards and set
  
  
  
  
  
  
  let firstCard, secondCard;
  let hasFlippedCard = false;
  let lockBoard = false;
  let pairs = 0,
    moves = 0,
    seconds = 0,
    minutes = 0;
  
  function flipCard() {
    if (lockBoard) return;
    if (this === firstCard) return;
  
    this.classList.add("flip");
    moveCounter();
  
    if (!hasFlippedCard) {
      firstCard = this;
      hasFlippedCard = true;
      return;
    }
  
    secondCard = this;
    lockBoard = true;
  
    checkForMatch();
  }
  
  function checkForMatch() {
    let isMatch = firstCard.dataset.tech === secondCard.dataset.tech;
  
    isMatch ? disableCards() : unflipCards();
  }
  
  function disableCards() {
    firstCard.removeEventListener("click", flipCard);
    secondCard.removeEventListener("click", flipCard);
  
    pairs++;
  
    if (pairs == 6) endGame();
  
    resetBoard();
  }
  
  function unflipCards() {
    setTimeout(() => {
      firstCard.classList.remove("flip");
      secondCard.classList.remove("flip");
  
      resetBoard();
    }, 1000);
  }
  
  function resetBoard() {
    [hasFlippedCard, lockBoard] = [false, false];
    [firstCard, secondCard] = [null, null];
  }
  
  (function shuffle() {
    cards.forEach((card) => {
      let randomPos = Math.floor(Math.random() * 12);
      card.style.order = randomPos;
    });
  })();
  
  function endGame() {
    setTimeout(() => {
      stopTimer();
      gameContainer.classList.add("hide");
      metaData.classList.add("hide");
      textFinish.innerHTML = `du van i ${moves} flytt!`;
    }, 300);
  }
  
  function moveCounter() {
    moves++;
    counter.innerHTML = moves;
  
    if (moves == 1) {
      startTimer();
    }
  }
  
  function startTimer() {
    interval = setInterval(() => {
      timer.innerHTML = minutes + "min " + seconds + "sek ";
      seconds++;
      if (seconds == 60) {
        minutes++;
        seconds = 0;
      }
    }, 1000);
  }
  
  function stopTimer() {
    clearInterval(interval);
  }
  
  cards.forEach((card) => card.addEventListener("click", flipCard));
  </script>

  </body>
</html>
